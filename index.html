<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flashcards â€” Master & Recall</title>

  <!-- Bootstrap optional -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    :root { --muted:#6b7280; --accent:#0d6efd; }

    html,body { height:100%; }
    body {
      margin:0;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      background:#f6f7fb;
      color:#0f172a;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    .container{ max-width:980px; padding:20px; }

    h1 { font-size:1.6rem; margin-bottom:8px; font-weight:700; text-align:center; }

    .top-row{ display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap; margin-bottom:8px; }
    .controls-left{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .progress { color:var(--muted); font-size:0.95rem; text-align:right; }

    /* Flashcard area - responsive */
    .flashcard-container { width: clamp(280px,88vw,640px); margin: 0 auto; }
    .card-inner {
      width:100%;
      height: clamp(220px,50vw,360px);
      perspective:1000px;
      border-radius:12px;
      position:relative;
    }

    .card-inner > .card {
      width:100%; height:100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
      border-radius:12px;
      box-shadow: 0 12px 30px rgba(2,6,23,0.10);
      overflow:hidden;
      background:white;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }
    .card-inner.flipped > .card { transform: rotateY(180deg); }

    .card-face {
      position:absolute; inset:0; padding:20px; box-sizing:border-box;
      backface-visibility: hidden;
      display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;
    }
    .card-face.front { transform: rotateY(0deg); }
    .card-face.back  { transform: rotateY(180deg); }

    .card-word { font-size: clamp(1.2rem, 3.5vw, 1.8rem); font-weight:700; }
    .card-sub  { color:var(--muted); margin-top:6px; font-size:0.95rem; }
    .card-meaning { width:100%; text-align:left; font-size:clamp(.95rem,2.2vw,1.05rem); line-height:1.45; white-space:pre-wrap; max-height:50%; overflow:auto; }

    .badge-syn { background:#d1fae5; color:#065f46; padding:.22rem .45rem; border-radius:.35rem; margin-right:.3rem; display:inline-block; }
    .badge-ant { background:#fee2e2; color:#9b1c1c; padding:.22rem .45rem; border-radius:.35rem; margin-left:.3rem; display:inline-block; }

    .controls { display:flex; gap:8px; justify-content:center; margin-top:12px; flex-wrap:wrap; }
    .controls button { min-width:110px; }

    .recall { display:flex; gap:12px; justify-content:center; margin-top:12px; flex-wrap:wrap; }

    .mastery-overlay { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.45); z-index:9999; padding:12px; }
    .mastery-card { width:min(900px,96%); max-height:86vh; overflow:auto; background:white; padding:14px; border-radius:10px; }
    .mastered-list { background:#fbfdff; padding:8px; border-radius:6px; max-height:60vh; overflow:auto; margin-top:8px; }
    .mastered-list li { padding:8px; border-bottom:1px solid rgba(2,6,23,0.04); }

    @media (max-width:640px){
      .top-row { align-items:flex-start; }
      .progress { text-align:left; width:100%; margin-top:6px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Flashcards â€” Master & Recall</h1>

    <div class="top-row">
      <div class="controls-left">
        <label for="letterSelect" class="mb-0">Select Alphabet:</label>
        <select id="letterSelect" class="form-select form-select-sm" style="width:110px;"></select>
        <button id="resetBtn" class="btn btn-outline-secondary btn-sm">Reset</button>
      </div>

      <div>
        <div id="msg" class="small text-muted" style="text-align:right;"></div>
        <div id="progress" class="progress small text-muted">Learned 0 / 0</div>
      </div>
    </div>

    <div class="flashcard-container">
      <!-- cardInner wraps the card; toggling class 'flipped' will rotate the .card -->
      <div id="cardInner" class="card-inner" aria-live="polite">
        <div class="card" role="group" aria-label="Flashcard">
          <div class="card-face front" id="frontFace">
            <div id="frontWord" class="card-word">Loading...</div>
            <div id="frontInfo" class="card-sub">Card info</div>
          </div>

          <div class="card-face back" id="backFace">
            <div id="backMeaning" class="card-meaning"></div>
            <div id="backExtra" style="margin-top:8px;"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="controls">
      <button id="prevBtn" class="btn btn-secondary">Previous</button>
      <button id="flipBtn" class="btn btn-primary">Flip</button>
      <button id="nextBtn" class="btn btn-secondary">Next</button>
    </div>

    <div class="recall">
      <button id="againBtn" class="btn btn-outline-danger">Do it again</button>
      <button id="moveOnBtn" class="btn btn-success">Move on</button>
    </div>
  </div>

  <!-- Mastery overlay -->
  <div id="masteryOverlay" class="mastery-overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="mastery-card">
      <h3>ðŸŽ‰ You have mastered this!</h3>
      <p id="masterCount" class="small text-muted"></p>
      <div class="mastered-list">
        <ul id="masteredList" style="list-style:none;margin:0;padding-left:0"></ul>
      </div>
      <div class="text-end mt-3">
        <button id="closeMastery" class="btn btn-secondary me-2">Close</button>
        <button id="restartAlphabet" class="btn btn-primary">Restart Alphabet</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
